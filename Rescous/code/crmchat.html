<!DOCTYPE html>
<html lang="zh-CN">
<head>
             <style>
/* 人工客服按钮样式 */
#canCustomerServerBtn, .can-customer-server-btn {
  right: 20px !important;
  top: 20px !important;
  left: auto !important;
  bottom: auto !important;
  position: fixed !important;
  z-index: 9997 !important; /* 低于AI客服按钮，避免覆盖 */
}
</style>

<!-- 人工客服脚本 -->
<script>
(function() {
  _s = document.createElement('script');
  _s.src = "https://kefu.aibochinese.com/customerServer.js";
  _s.onload = function() {
    var option = {
      "authInit": true,
      openUrl: 'https://kefu.aibochinese.com',
      token: '7fecd3ce216cc26ebd63bf417c193b41',
      kefuid: '',
      isShowTip: true,
      mobileIcon: '',
      pcIcon: '',
      windowStyle: 'center',
    };
    
    var canCustomerServer = new initCustomerServer(option);
    canCustomerServer.init();
    
    // 检查按钮是否生成并设置位置
    var checkInterval = setInterval(function() {
      var btn = document.querySelector('#canCustomerServerBtn') || 
                document.querySelector('.can-customer-server-btn') ||
                document.querySelector('[class*="customer-service"]') ||
                document.querySelector('[id*="customer"]');
      
      if (btn) {
        clearInterval(checkInterval);
        // 强制设置位置和层级
        btn.style.position = 'fixed';
        btn.style.right = '20px';
        btn.style.top = '200px';
        btn.style.left = 'auto';
        btn.style.bottom = 'auto';
        btn.style.zIndex = '9997'; // 与样式保持一致
        // 添加拖拽功能
        makeDraggable(btn);
      }
    }, 300);
  };
  
  document.head.appendChild(_s);
  
  // 拖拽功能实现
  function makeDraggable(element) {
    let pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
    element.style.cursor = 'move';
    
    element.onmousedown = dragStart;
    
    function dragStart(e) {
      e = e || window.event;
      e.preventDefault();
      pos3 = e.clientX;
      pos4 = e.clientY;
      document.onmouseup = dragEnd;
      document.onmousemove = dragMove;
    }
    
    function dragMove(e) {
      e = e || window.event;
      e.preventDefault();
      pos1 = pos3 - e.clientX;
      pos2 = pos4 - e.clientY;
      pos3 = e.clientX;
      pos4 = e.clientY;
      element.style.top = (element.offsetTop - pos2) + "px";
      element.style.left = (element.offsetLeft - pos1) + "px";
    }
    
    function dragEnd() {
      document.onmouseup = null;
      document.onmousemove = null;
    }
  }
})();
</script>
<meta charset="UTF-8">
<title>CRM Chat 部署教程</title>
<style>
body{font-family:Arial, sans-serif;line-height:1.6;padding:20px;}
h4{color:#333;}
code{background:#f5f5f5;padding:6px 10px;display:block;border-radius:4px;}
img{max-width:100%;height:auto;border:1px solid #ddd;border-radius:6px;margin:10px 0;}
a{color:#0073aa;text-decoration:none;}
a:hover{text-decoration:underline;}
.note{color:red;font-weight:bold;}
</style>
</head>
<body>

<h4>用户端访问 <a href="http://chat.crmeb.net/demo/index.html" target="_blank">【点击体验】</a></h4>
<p><img src="https://up.aibochinese.com/2025/09/20250910222733293-1024x907.png" alt=""></p>

<p>安装及使用教程：<a href="https://gitee.com/ZhongBangKeJi/CRMChat/wikis/pages/preview?sort_id=4266819&doc_id=1539498" target="_blank">官方</a></p>

<h4>修改数据库配置文件</h4>
<code>[mysqld]
sql_mode=NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION
</code>

<p>源码下载：<a href="https://drive.aibochinese.com/s/qahw" target="_blank">点击下载⏬</a></p>
<p>服务器要求：最低 2 核 / 2GB+</p>
<p><strong>⚠️服务器重启后检查 PHP CLI 版本并重启 Swoole</strong></p>

<code>php think swoole restart</code>

<p>Android APK 下载（输入域名，用客服账号登录）</p>
<p><img src="https://up.aibochinese.com/2025/09/20250910225630834.png" alt=""></p>

<p>远程人工协助搭建客服系统：<span class="note">⚠️单次50元，会员免费</span></p>

</body>
</html>
